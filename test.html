<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<body>
  <p>
    <div style="overflow: scroll; height:100px; background:rgba(0, 0, 0, 0.1);">
      Window Inner, Outer Height: <div id="inner"></div>
    </div>
  </p>
  <p>
    <div style="overflow: scroll; height:100px; background:rgba(0, 0, 0, 0.1);">
      Document Client Height: <div id="client"></div>
    </div>
  </p>
  <p>
    <div style="overflow: scroll; height:100px; background:rgba(0, 0, 0, 0.1);">
      Document Body Offset Height: <div id="offset"></div>
    </div>
  </p>
</body>

<script>
  const elements = ['inner', 'client', 'offset'];
  
  let timerCounter = 0
  const step = 10
  const printer = () => {
    timerCounter += step
    for (const element of elements) {
      const node = document.createElement("div")
      node.innerText = `${timerCounter}ms: `
      switch (element) {
        case 'inner':
          node.innerText += window.innerHeight + ", " + window.outerHeight
          break;
        case 'client':
          node.innerText += document.body.offsetHeight
          break;
        case 'offset':
          node.innerText += document.body.offsetHeight
          break;
        default:
          break;
      }
      document.querySelector("#" + element).appendChild(node)
    }
    
    if (timerCounter < 1000) {
      setTimeout(printer, step)
    } else {
      timerCounter = 0
    }
  }
  window.onresize = () => {
    for (const element of elements) {
      const node = document.createElement("div")
      node.innerText = "RESIZE"
      document.querySelector("#" + element).appendChild(node)
    }
  }
  
  window.onscroll = () => {
    for (const element of elements) {
      const node = document.createElement("div")
      node.innerText = "SCROLL"
      document.querySelector("#" + element).appendChild(node)
    }
  }
  
  window.onorientationchange = () => {
    reset()
    printer()
  }
  
  const reset = () => {
    for (const element of elements) {
      const ele = document.querySelector("#" + element)
      while (ele.children.length) {
        ele.removeChild(ele.children[0])
      }
    }
  }
  const safariVersion = document.createElement("div")
  document.body.appendChild(safariVersion)
  safariVersion.innerText += "Safari Version: "
    
  const userAgent = document.createElement("div")
  userAgent.innerText = navigator.userAgent
  document.body.appendChild(userAgent)
  
  const safariStr = navigator.userAgent.split("Version/")[1]
  if (safariStr) {
    const major = safariStr.split(".")[0]
    const minor = safariStr.split(".")[1]
    const version = safariStr.split(".")[2]
    safariVersion.innerText += major + '.' + minor

    /*
    if (major == 608) {
      safariVersion.innerText += "13.0"
    } else if (major == 607) {
       safariVersion.innerText += "12.1"
    } else if (major == 606) {
      safariVersion.innerText += "12.0"
    } else if (major == 605) {
      safariVersion.innerText += "11.0"
    } else if (major == 604) {
      safariVersion.innerText += "11.0"
    } else if (major == 603) {
      safariVersion.innerText += "10.0"
    } else if (major == 602) {
      safariVersion.innerText += "10.0"
    }
    */
  }
</script>
</html>
